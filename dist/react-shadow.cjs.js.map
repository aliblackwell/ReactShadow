{"version":3,"file":"react-shadow.cjs.js","sources":["../node_modules/@babel/runtime/helpers/extends.js","../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/nonIterableRest.js","../node_modules/@babel/runtime/helpers/slicedToArray.js","../node_modules/@babel/runtime/helpers/objectWithoutPropertiesLoose.js","../node_modules/@babel/runtime/helpers/objectWithoutProperties.js","../node_modules/humps/humps.js","../node_modules/proxy-polyfill/src/proxy.js","../src/index.js"],"sourcesContent":["function _extends() {\n  module.exports = _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nmodule.exports = _extends;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutPropertiesLoose;","var objectWithoutPropertiesLoose = require(\"./objectWithoutPropertiesLoose\");\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nmodule.exports = _objectWithoutProperties;","// =========\n// = humps =\n// =========\n// Underscore-to-camelCase converter (and vice versa)\n// for strings and object keys\n\n// humps is copyright Â© 2012+ Dom Christie\n// Released under the MIT license.\n\n\n;(function(global) {\n\n  var _processKeys = function(convert, obj, options) {\n    if(!_isObject(obj) || _isDate(obj) || _isRegExp(obj) || _isBoolean(obj) || _isFunction(obj)) {\n      return obj;\n    }\n\n    var output,\n        i = 0,\n        l = 0;\n\n    if(_isArray(obj)) {\n      output = [];\n      for(l=obj.length; i<l; i++) {\n        output.push(_processKeys(convert, obj[i], options));\n      }\n    }\n    else {\n      output = {};\n      for(var key in obj) {\n        if(Object.prototype.hasOwnProperty.call(obj, key)) {\n          output[convert(key, options)] = _processKeys(convert, obj[key], options);\n        }\n      }\n    }\n    return output;\n  };\n\n  // String conversion methods\n\n  var separateWords = function(string, options) {\n    options = options || {};\n    var separator = options.separator || '_';\n    var split = options.split || /(?=[A-Z])/;\n\n    return string.split(split).join(separator);\n  };\n\n  var camelize = function(string) {\n    if (_isNumerical(string)) {\n      return string;\n    }\n    string = string.replace(/[\\-_\\s]+(.)?/g, function(match, chr) {\n      return chr ? chr.toUpperCase() : '';\n    });\n    // Ensure 1st char is always lowercase\n    return string.substr(0, 1).toLowerCase() + string.substr(1);\n  };\n\n  var pascalize = function(string) {\n    var camelized = camelize(string);\n    // Ensure 1st char is always uppercase\n    return camelized.substr(0, 1).toUpperCase() + camelized.substr(1);\n  };\n\n  var decamelize = function(string, options) {\n    return separateWords(string, options).toLowerCase();\n  };\n\n  // Utilities\n  // Taken from Underscore.js\n\n  var toString = Object.prototype.toString;\n\n  var _isFunction = function(obj) {\n    return typeof(obj) === 'function';\n  };\n  var _isObject = function(obj) {\n    return obj === Object(obj);\n  };\n  var _isArray = function(obj) {\n    return toString.call(obj) == '[object Array]';\n  };\n  var _isDate = function(obj) {\n    return toString.call(obj) == '[object Date]';\n  };\n  var _isRegExp = function(obj) {\n    return toString.call(obj) == '[object RegExp]';\n  };\n  var _isBoolean = function(obj) {\n    return toString.call(obj) == '[object Boolean]';\n  };\n\n  // Performant way to determine if obj coerces to a number\n  var _isNumerical = function(obj) {\n    obj = obj - 0;\n    return obj === obj;\n  };\n\n  // Sets up function which handles processing keys\n  // allowing the convert function to be modified by a callback\n  var _processor = function(convert, options) {\n    var callback = options && 'process' in options ? options.process : options;\n\n    if(typeof(callback) !== 'function') {\n      return convert;\n    }\n\n    return function(string, options) {\n      return callback(string, convert, options);\n    }\n  };\n\n  var humps = {\n    camelize: camelize,\n    decamelize: decamelize,\n    pascalize: pascalize,\n    depascalize: decamelize,\n    camelizeKeys: function(object, options) {\n      return _processKeys(_processor(camelize, options), object);\n    },\n    decamelizeKeys: function(object, options) {\n      return _processKeys(_processor(decamelize, options), object, options);\n    },\n    pascalizeKeys: function(object, options) {\n      return _processKeys(_processor(pascalize, options), object);\n    },\n    depascalizeKeys: function () {\n      return this.decamelizeKeys.apply(this, arguments);\n    }\n  };\n\n  if (typeof define === 'function' && define.amd) {\n    define(humps);\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = humps;\n  } else {\n    global.humps = humps;\n  }\n\n})(this);\n","/*\n * Copyright 2016 Google Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not\n * use this file except in compliance with the License. You may obtain a copy of\n * the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT\n * WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the\n * License for the specific language governing permissions and limitations under\n * the License.\n */\n\nmodule.exports = function proxyPolyfill() {\n  let lastRevokeFn = null;\n  let ProxyPolyfill;\n\n  /**\n   * @param {*} o\n   * @return {boolean} whether this is probably a (non-null) Object\n   */\n  function isObject(o) {\n    return o ? (typeof o === 'object' || typeof o === 'function') : false;\n  }\n\n  /**\n   * @constructor\n   * @param {!Object} target\n   * @param {{apply, construct, get, set}} handler\n   */\n  ProxyPolyfill = function(target, handler) {\n    if (!isObject(target) || !isObject(handler)) {\n      throw new TypeError('Cannot create proxy with a non-object as target or handler');\n    }\n\n    // Construct revoke function, and set lastRevokeFn so that Proxy.revocable can steal it.\n    // The caller might get the wrong revoke function if a user replaces or wraps scope.Proxy\n    // to call itself, but that seems unlikely especially when using the polyfill.\n    let throwRevoked = function() {};\n    lastRevokeFn = function() {\n      throwRevoked = function(trap) {\n        throw new TypeError(`Cannot perform '${trap}' on a proxy that has been revoked`);\n      };\n    };\n\n    // Fail on unsupported traps: Chrome doesn't do this, but ensure that users of the polyfill\n    // are a bit more careful. Copy the internal parts of handler to prevent user changes.\n    const unsafeHandler = handler;\n    handler = { 'get': null, 'set': null, 'apply': null, 'construct': null };\n    for (let k in unsafeHandler) {\n      if (!(k in handler)) {\n        throw new TypeError(`Proxy polyfill does not support trap '${k}'`);\n      }\n      handler[k] = unsafeHandler[k];\n    }\n    if (typeof unsafeHandler === 'function') {\n      // Allow handler to be a function (which has an 'apply' method). This matches what is\n      // probably a bug in native versions. It treats the apply call as a trap to be configured.\n      handler.apply = unsafeHandler.apply.bind(unsafeHandler);\n    }\n\n    // Define proxy as this, or a Function (if either it's callable, or apply is set).\n    // TODO(samthor): Closure compiler doesn't know about 'construct', attempts to rename it.\n    let proxy = this;\n    let isMethod = false;\n    let isArray = false;\n    if (typeof target === 'function') {\n      proxy = function ProxyPolyfill() {\n        const usingNew = (this && this.constructor === proxy);\n        const args = Array.prototype.slice.call(arguments);\n        throwRevoked(usingNew ? 'construct' : 'apply');\n\n        if (usingNew && handler['construct']) {\n          return handler['construct'].call(this, target, args);\n        } else if (!usingNew && handler.apply) {\n          return handler.apply(target, this, args);\n        }\n\n        // since the target was a function, fallback to calling it directly.\n        if (usingNew) {\n          // inspired by answers to https://stackoverflow.com/q/1606797\n          args.unshift(target);  // pass class as first arg to constructor, although irrelevant\n          // nb. cast to convince Closure compiler that this is a constructor\n          const f = /** @type {!Function} */ (target.bind.apply(target, args));\n          return new f();\n        }\n        return target.apply(this, args);\n      };\n      isMethod = true;\n    } else if (target instanceof Array) {\n      proxy = [];\n      isArray = true;\n    }\n\n    // Create default getters/setters. Create different code paths as handler.get/handler.set can't\n    // change after creation.\n    const getter = handler.get ? function(prop) {\n      throwRevoked('get');\n      return handler.get(this, prop, proxy);\n    } : function(prop) {\n      throwRevoked('get');\n      return this[prop];\n    };\n    const setter = handler.set ? function(prop, value) {\n      throwRevoked('set');\n      const status = handler.set(this, prop, value, proxy);\n      // TODO(samthor): If the calling code is in strict mode, throw TypeError.\n      // if (!status) {\n        // It's (sometimes) possible to work this out, if this code isn't strict- try to load the\n        // callee, and if it's available, that code is non-strict. However, this isn't exhaustive.\n      // }\n    } : function(prop, value) {\n      throwRevoked('set');\n      this[prop] = value;\n    };\n\n    // Clone direct properties (i.e., not part of a prototype).\n    const propertyNames = Object.getOwnPropertyNames(target);\n    const propertyMap = {};\n    propertyNames.forEach(function(prop) {\n      if ((isMethod || isArray) && prop in proxy) {\n        return;  // ignore properties already here, e.g. 'bind', 'prototype' etc\n      }\n      const real = Object.getOwnPropertyDescriptor(target, prop);\n      const desc = {\n        enumerable: !!real.enumerable,\n        get: getter.bind(target, prop),\n        set: setter.bind(target, prop),\n      };\n      Object.defineProperty(proxy, prop, desc);\n      propertyMap[prop] = true;\n    });\n\n    // Set the prototype, or clone all prototype methods (always required if a getter is provided).\n    // TODO(samthor): We don't allow prototype methods to be set. It's (even more) awkward.\n    // An alternative here would be to _just_ clone methods to keep behavior consistent.\n    let prototypeOk = true;\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(proxy, Object.getPrototypeOf(target));\n    } else if (proxy.__proto__) {\n      proxy.__proto__ = target.__proto__;\n    } else {\n      prototypeOk = false;\n    }\n    if (handler.get || !prototypeOk) {\n      for (let k in target) {\n        if (propertyMap[k]) {\n          continue;\n        }\n        Object.defineProperty(proxy, k, { get: getter.bind(target, k) });\n      }\n    }\n\n    // The Proxy polyfill cannot handle adding new properties. Seal the target and proxy.\n    Object.seal(target);\n    Object.seal(proxy);\n\n    return proxy;  // nb. if isMethod is true, proxy != this\n  };\n\n  ProxyPolyfill.revocable = function(target, handler) {\n    const p = new ProxyPolyfill(target, handler);\n    return { 'proxy': p, 'revoke': lastRevokeFn };\n  };\n\n  return ProxyPolyfill;\n}","import React, { useState, useEffect, forwardRef } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { decamelize } from 'humps';\nimport ProxyPolyfill from 'proxy-polyfill/src/proxy';\n\nfunction ShadowContent({ root, children }) {\n    return createPortal(children, root);\n}\n\nShadowContent.propTypes = {\n    root: PropTypes.object.isRequired,\n    children: PropTypes.node.isRequired,\n};\n\nfunction createComponent(options) {\n    const ShadowRoot = forwardRef(\n        ({ mode, delegatesFocus, styleSheets, children, ...props }, ref) => {\n            const [node, setNode] = useState(null);\n            const [root, setRoot] = useState(null);\n\n            useEffect(() => {\n                if (node && typeof node.attachShadow === \"function\") {\n                    const root = node.attachShadow({ mode, delegatesFocus });\n                    styleSheets.length > 0 &&\n                        (root.adoptedStyleSheets = styleSheets);\n\n                    ref && typeof ref === 'function' && ref(node);\n                    ref && 'current' in ref && (ref.current = node);\n\n                    setRoot(root);\n                }\n            }, [node]);\n\n            return (\n                <options.tag ref={setNode} {...props}>\n                    {root && (\n                        <ShadowContent root={root}>{children}</ShadowContent>\n                    )}\n                </options.tag>\n            );\n        },\n    );\n\n    ShadowRoot.propTypes = {\n        mode: PropTypes.oneOf(['open', 'closed']),\n        delegatesFocus: PropTypes.bool,\n        styleSheets: PropTypes.arrayOf(PropTypes.string),\n        children: PropTypes.node.isRequired,\n    };\n\n    ShadowRoot.defaultProps = {\n        mode: 'open',\n        delegatesFocus: false,\n        styleSheets: [],\n    };\n\n    return ShadowRoot;\n}\n\nconst components = new Map();\n\nexport function createProxy(target = {}) {\n    return new ProxyPolyfill(target, {\n        get: function get(_, name) {\n            const tag = decamelize(name, { separator: '-' });\n            if (!components.has(tag))\n                components.set(tag, createComponent({ tag }));\n            return components.get(tag);\n        },\n    });\n}\n\nexport default createProxy();\n"],"names":["_extends","module","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","value","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","nonIterableRest","_objectWithoutPropertiesLoose","excluded","sourceKeys","keys","indexOf","_objectWithoutProperties","objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","global","_processKeys","convert","obj","options","_isObject","_isDate","_isRegExp","_isBoolean","_isFunction","output","l","_isArray","camelize","string","_isNumerical","replace","match","chr","toUpperCase","substr","toLowerCase","pascalize","camelized","decamelize","separator","split","join","separateWords","toString","_processor","callback","process","humps","depascalize","camelizeKeys","object","decamelizeKeys","pascalizeKeys","depascalizeKeys","exports","ProxyPolyfill","lastRevokeFn","isObject","o","handler","throwRevoked","trap","unsafeHandler","get","set","construct","k","bind","proxy","isMethod","usingNew","constructor","args","slice","unshift","getter","prop","setter","propertyNames","getOwnPropertyNames","propertyMap","forEach","desc","enumerable","getOwnPropertyDescriptor","defineProperty","prototypeOk","setPrototypeOf","getPrototypeOf","__proto__","seal","revocable","revoke","ShadowContent","root","children","createPortal","createComponent","ShadowRoot","forwardRef","ref","mode","delegatesFocus","styleSheets","props","useState","node","setNode","setRoot","useEffect","attachShadow","adoptedStyleSheets","current","React","tag","propTypes","PropTypes","oneOf","bool","arrayOf","isRequired","defaultProps","components","Map","createProxy","_","name","has"],"mappings":"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"}